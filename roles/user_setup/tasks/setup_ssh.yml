---
- name: Generate SSH keypair for user (idempotent)
  openssh_keypair:
    path: "/home/{{ user_item.username }}/.ssh/id_ed25519"
    type: ed25519
    owner: "{{ user_item.username }}"
    group: "{{ user_item.username }}"
    mode: '0600'
  become: yes
  # no become_user here â€” the module will set ownership as requested
